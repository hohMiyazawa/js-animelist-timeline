<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Animelist Timeline</title>
    <link href="favicon.png" rel="shortcut icon" type="image/x-icon">
    <link href="./res/root.css" rel="stylesheet" type="text/css">
    <link href="./js/lib/jquery-ui/jquery-ui.min.css" rel="stylesheet" type="text/css">
    <link href="./js/lib/jquery-ui/jquery-ui.theme.min.css" rel="stylesheet" type="text/css">
    <!-- <link rel="stylesheet" type="text/css" href="./js/lib/jquery-ui/jquery-ui.structure.min.css"> -->
</head>


<body>

    <div id="top">

        <header>
            This is a work in progress. About/Source/Support:
            <a href="https://github.com/linkviii/js-animelist-timeline">
                https://github.com/linkviii/js-animelist-timeline
            </a>
        </header>

        <h2>Anilist Timeline</h2>

        <!-- <br> -->

        <p>Generate a timeline of when you watched anime from dates on your AniList.</p>

        <!-- 
            Submit to an invisible iframe to prevent page refresh on submit.
            Submitting lets username autocomplete.
            https://stackoverflow.com/a/29885896/1993919
         -->

        <iframe name="ðŸ’¾" src="about:blank" style="display:none"></iframe>

        <form action="about:blank" id="form" target="ðŸ’¾">

            <fieldset style="display: inline;">
                <legend>List</legend>

                <label for="listName">Username</label>
                <input id="listName" required="" spellcheck="false">

                <label for="list-kind">Media</label>
                <select id="list-kind">
                    <option value="ANIME">Anime</option>
                    <option value="MANGA">Manga</option>
                </select>



                <!-- Only show the list for the current Media kind -->
                <fieldset id="anime-format">
                    <legend>Format</legend>
                    <!-- Copying descriptions from the api docs. Could tool tip them or something. -->
                    <!-- Anime broadcast on television -->
                    <label for="format-tv">TV</label>
                    <input checked="" id="format-tv" type="checkbox">
                    <!-- Anime which are under 15 minutes in length and broadcast on television -->
                    <label for="format-short">Short</label>
                    <input checked="" id="format-short" type="checkbox">
                    <!-- Anime movies with a theatrical release -->
                    <label for="format-movie">Movie</label>
                    <input checked="" id="format-movie" type="checkbox">
                    <!-- Special episodes that have been included in DVD/Blu-ray releases, picture dramas, pilots, etc -->
                    <label for="format-special">Special</label>
                    <input checked="" id="format-special" type="checkbox">
                    <!-- (Original Video Animation) Anime that have been released directly on DVD/Blu-ray without originally going through a theatrical release or television broadcast -->
                    <label for="format-ova">OVA</label>
                    <input checked="" id="format-ova" type="checkbox">
                    <!-- (Original Net Animation) Anime that have been originally released online or are only available through streaming services. -->
                    <label for="format-ona">ONA</label>
                    <input checked="" id="format-ona" type="checkbox">
                    <!-- Short anime released as a music video -->
                    <label for="format-music">Music</label>
                    <input checked="" id="format-music" type="checkbox">
                </fieldset>

                <fieldset id="manga-format">
                    <legend>Format</legend>
                    <!-- Professionally published manga with more than one chapter -->
                    <label for="format-manga">Manga</label>
                    <input checked="" id="format-manga" type="checkbox">
                    <!-- Written books released as a series of light novels -->
                    <label for="format-novel">Novel</label>
                    <input checked="" id="format-novel" type="checkbox">
                    <!-- Manga with just one chapter -->
                    <label for="format-one-shot">One Shot</label>
                    <input checked="" id="format-one-shot" type="checkbox">
                </fieldset>

            </fieldset>
            <fieldset style="display:inline;">
                <legend>Plot</legend>
                <label for="timeline">Timeline</label>
                <input type="radio" name="plot" id="timeline" checked>
                <br>
                <label for="watch-time">Watch time</label>
                <input type="radio" name="plot" id="watch-time">

            </fieldset>

            <fieldset style="display: inline;">
                <legend>Dates (optional)</legend>

                <div style="
                    display: inline-grid;
                    grid-template-columns: auto auto;
                ">

                    <label for="from">From</label>
                    <input id="from" type="date">

                    <label for="to">To</label>
                    <input id="to" type="date">
                </div>
                <span>â€¢</span>
                
                <label for="focus-year">Focus on year</label>
                <input id="focus-year" placeholder="20xx" style="width: 4em;" type="number">
                <span>â€¢</span>

                <label for="last-n">Show n most recent</label>
                <input type="number"  id="last-n" value="30" min="5" step="5" style="width: 3em;">
                <input type="checkbox"  id="enable-last-n" checked>

            </fieldset>

            <fieldset>
                <label for="language">Language</label>

                <select id="language">
                    <option value="english">English</option>
                    <option value="romaji">Romaji</option>
                    <option value="native">Native</option>
                </select>

                <label for="seasons">Seasons</label>
                <input id="seasons" type="checkbox">
            </fieldset>

            <fieldset>
                <label for="font-size">Font Size</label>
                <input id="font-size" required="" style="width: 3em;" type="number" value="10">
                <label for="width">Width</label>
                <input id="width" max="9999" min="200" required="" value="1400" style="width: 4em;">
                <input id="width-slider" style="display: block; width: 100%;" type="range">
                <!-- <p id="width-disp">val</p> -->
            </fieldset>

            <button id="listFormSubmit" title="Submit" type="submit">New Timeline</button>
            <button title="Clear form data" type="reset">Clear Form</button>

        </form>

        <span id="feedback"> </span>

        <br>



    </div>

    <!--debug out-->
    <pre id="inputOut"></pre>
    <p id="json"></p>


    <button disabled="" id="clearAllTimelines" title="Remove all generated timelines" type="button">Remove all</button>

    <br>
    <br>

    <!--Generate timeline here-->
    <div id="tls"></div>


    <!---->
    <script src="js/lib/strftime.js"></script>
    <script src="js/lib/FileSaver.js"></script>
    <script src="js/lib/svg.js"></script>

    <script type="module">
        import * as main from "./js/main.js";
        window.main = main;
        console.log("main module loaded", new Date().toLocaleTimeString());
    </script>





</body>

</html>